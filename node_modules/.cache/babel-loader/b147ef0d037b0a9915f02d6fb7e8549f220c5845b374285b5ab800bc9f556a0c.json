{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link,useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import styles from'../../styles/Header.module.css';import{ROUTES}from'../../utils/routes';// import LOGO from '../../images/logo.svg';\nimport Avatar from'../../images/avatar_new.png';import{toggleForm}from\"../../features/user/userSlice\";import{useGetProductsQuery}from\"../../features/api/apiSlice\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SearchResult=()=>{const[searchValue,setSearchValue]=useState();const{data,isLoading}=useGetProductsQuery({title:searchValue});const handleSearch=_ref=>{let{target:{value}}=_ref;setSearchValue(value);};return/*#__PURE__*/_jsx(\"div\",{children:searchValue&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.box,children:isLoading?\"Loading\":!data.length?\"No results\":data.map(_ref2=>{let{title,images,id}=_ref2;return/*#__PURE__*/_jsxs(Link,{onClick:()=>setSearchValue(\"\"),className:styles.item,to:\"/products/\".concat(id),children:[/*#__PURE__*/_jsx(\"div\",{className:styles.image,style:{backgroundImage:\"url(\".concat(images[0],\")\")}}),/*#__PURE__*/_jsx(\"div\",{className:styles.title,children:title})]},id);})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:/*#__PURE__*/_jsx(Link,{to:ROUTES.SEARCH,children:\"search\"})})]})});};export default SearchResult;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","useDispatch","useSelector","styles","ROUTES","Avatar","toggleForm","useGetProductsQuery","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SearchResult","searchValue","setSearchValue","data","isLoading","title","handleSearch","_ref","target","value","children","className","box","length","map","_ref2","images","id","onClick","item","to","concat","image","style","backgroundImage","type","SEARCH"],"sources":["D:/REACT_NEW/my-pet-project/olga-pet-project-webpack/src/components/Search/SearchResult.jsx"],"sourcesContent":["\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport styles from '../../styles/Header.module.css';\r\n\r\nimport { ROUTES } from '../../utils/routes';\r\n\r\n// import LOGO from '../../images/logo.svg';\r\nimport Avatar from '../../images/avatar_new.png';\r\n\r\nimport { toggleForm } from \"../../features/user/userSlice\";\r\nimport { useGetProductsQuery } from \"../../features/api/apiSlice\";\r\nconst SearchResult = () => {\r\n    const [searchValue, setSearchValue] = useState();\r\n    const { data, isLoading } = useGetProductsQuery({ title: searchValue });\r\n    const handleSearch = ({ target: { value } }) => {\r\n        setSearchValue(value);\r\n      };\r\n  return (\r\n    <div>\r\n       {searchValue && (\r\n          <>\r\n            <div className={styles.box}>\r\n              {isLoading\r\n                ? \"Loading\"\r\n                : !data.length\r\n                ? \"No results\"\r\n                : data.map(({ title, images, id }) => {\r\n                    return (\r\n                      <Link\r\n                        key={id}\r\n                        onClick={() => setSearchValue(\"\")}\r\n                        className={styles.item}\r\n                        to={`/products/${id}`}\r\n                      >\r\n                        <div\r\n                          className={styles.image}\r\n                          style={{ backgroundImage: `url(${images[0]})` }}\r\n                        />\r\n                        <div className={styles.title}>{title}</div>\r\n                      </Link>\r\n                    );\r\n                  })}\r\n            </div>\r\n            <button type='submit'><Link to={ROUTES.SEARCH}>search</Link></button> \r\n            </>\r\n          )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchResult"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD,MAAO,CAAAC,MAAM,KAAM,gCAAgC,CAEnD,OAASC,MAAM,KAAQ,oBAAoB,CAE3C;AACA,MAAO,CAAAC,MAAM,KAAM,6BAA6B,CAEhD,OAASC,UAAU,KAAQ,+BAA+B,CAC1D,OAASC,mBAAmB,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAClE,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAChD,KAAM,CAAEmB,IAAI,CAAEC,SAAU,CAAC,CAAGX,mBAAmB,CAAC,CAAEY,KAAK,CAAEJ,WAAY,CAAC,CAAC,CACvE,KAAM,CAAAK,YAAY,CAAGC,IAAA,EAA2B,IAA1B,CAAEC,MAAM,CAAE,CAAEC,KAAM,CAAE,CAAC,CAAAF,IAAA,CACvCL,cAAc,CAACO,KAAK,CAAC,CACvB,CAAC,CACL,mBACEd,IAAA,QAAAe,QAAA,CACIT,WAAW,eACTJ,KAAA,CAAAE,SAAA,EAAAW,QAAA,eACEf,IAAA,QAAKgB,SAAS,CAAEtB,MAAM,CAACuB,GAAI,CAAAF,QAAA,CACxBN,SAAS,CACN,SAAS,CACT,CAACD,IAAI,CAACU,MAAM,CACZ,YAAY,CACZV,IAAI,CAACW,GAAG,CAACC,KAAA,EAA2B,IAA1B,CAAEV,KAAK,CAAEW,MAAM,CAAEC,EAAG,CAAC,CAAAF,KAAA,CAC7B,mBACElB,KAAA,CAACZ,IAAI,EAEHiC,OAAO,CAAEA,CAAA,GAAMhB,cAAc,CAAC,EAAE,CAAE,CAClCS,SAAS,CAAEtB,MAAM,CAAC8B,IAAK,CACvBC,EAAE,cAAAC,MAAA,CAAeJ,EAAE,CAAG,CAAAP,QAAA,eAEtBf,IAAA,QACEgB,SAAS,CAAEtB,MAAM,CAACiC,KAAM,CACxBC,KAAK,CAAE,CAAEC,eAAe,QAAAH,MAAA,CAASL,MAAM,CAAC,CAAC,CAAC,KAAI,CAAE,CACjD,CAAC,cACFrB,IAAA,QAAKgB,SAAS,CAAEtB,MAAM,CAACgB,KAAM,CAAAK,QAAA,CAAEL,KAAK,CAAM,CAAC,GATtCY,EAUD,CAAC,CAEX,CAAC,CAAC,CACH,CAAC,cACNtB,IAAA,WAAQ8B,IAAI,CAAC,QAAQ,CAAAf,QAAA,cAACf,IAAA,CAACV,IAAI,EAACmC,EAAE,CAAE9B,MAAM,CAACoC,MAAO,CAAAhB,QAAA,CAAC,QAAM,CAAM,CAAC,CAAQ,CAAC,EACnE,CACH,CACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAAV,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}