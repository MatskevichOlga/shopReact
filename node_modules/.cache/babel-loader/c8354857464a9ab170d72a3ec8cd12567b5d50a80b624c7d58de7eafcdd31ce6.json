{"ast":null,"code":"import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import axios from'axios';import{BASE_URL}from'../../utils/constatns';export const getProducts=createAsyncThunk('products/getProducts',async(_,thunkAPI)=>{try{const res=await axios(\"\".concat(BASE_URL,\"/products\"));return res.data;}catch(err){console.log(err);return thunkAPI.rejectWithValue(err);}});const productsSlice=createSlice({name:\"products\",initialState:{list:[],filtered:[],// related:[],\nisLoading:false},reducers:{filterByPrice:(state,_ref)=>{let{payload}=_ref;state.filtered=state.list.filter(_ref2=>{let{price}=_ref2;return price<payload;});}},extraReducers:builder=>{builder.addCase(getProducts.pending,state=>{state.isLoading=true;});builder.addCase(getProducts.fulfilled,(state,_ref3)=>{let{payload}=_ref3;state.list=payload;state.isLoading=false;});builder.addCase(getProducts.rejected,state=>{state.isLoading=false;});}});export const{filterByPrice}=productsSlice.actions;export default productsSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","BASE_URL","getProducts","_","thunkAPI","res","concat","data","err","console","log","rejectWithValue","productsSlice","name","initialState","list","filtered","isLoading","reducers","filterByPrice","state","_ref","payload","filter","_ref2","price","extraReducers","builder","addCase","pending","fulfilled","_ref3","rejected","actions","reducer"],"sources":["D:/REACT_NEW/my-pet-project/olga-pet-project-webpack/src/features/products/productsSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice} from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { BASE_URL } from '../../utils/constatns';\r\n\r\nexport const getProducts = createAsyncThunk(\r\n    'products/getProducts',\r\n    async (_, thunkAPI) => {\r\n  try{\r\n  const res = await axios(`${BASE_URL}/products`);\r\n  return res.data;\r\n  } catch(err){\r\n    console.log(err);\r\n    return thunkAPI.rejectWithValue(err);\r\n  }\r\n    }\r\n)\r\n\r\nconst productsSlice = createSlice ({\r\n    name: \"products\",\r\n    initialState: {\r\n        list: [],\r\n        filtered:[],\r\n        // related:[],\r\n        isLoading: false,\r\n    },\r\n    reducers:{\r\n    filterByPrice:(state, {payload}) => {\r\n    state.filtered = state.list.filter(({price}) => price < payload)\r\n    }\r\n    },\r\n extraReducers: (builder) => {\r\n    builder.addCase(getProducts.pending, (state) => {\r\n        state.isLoading = true;\r\n    })\r\n    builder.addCase(getProducts.fulfilled, (state, {payload}) => {\r\n        state.list = payload;\r\n        state.isLoading = false;\r\n    })\r\n    builder.addCase(getProducts.rejected, (state) => {\r\n        state.isLoading = false;\r\n      \r\n    })\r\n }\r\n});\r\n\r\nexport const { filterByPrice } = productsSlice.actions;\r\nexport default productsSlice.reducer;"],"mappings":"AAAA,OAASA,gBAAgB,CAAEC,WAAW,KAAO,kBAAkB,CAC/D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,uBAAuB,CAEhD,MAAO,MAAM,CAAAC,WAAW,CAAGJ,gBAAgB,CACvC,sBAAsB,CACtB,MAAOK,CAAC,CAAEC,QAAQ,GAAK,CACzB,GAAG,CACH,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAL,KAAK,IAAAM,MAAA,CAAIL,QAAQ,aAAW,CAAC,CAC/C,MAAO,CAAAI,GAAG,CAACE,IAAI,CACf,CAAE,MAAMC,GAAG,CAAC,CACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChB,MAAO,CAAAJ,QAAQ,CAACO,eAAe,CAACH,GAAG,CAAC,CACtC,CACE,CACJ,CAAC,CAED,KAAM,CAAAI,aAAa,CAAGb,WAAW,CAAE,CAC/Bc,IAAI,CAAE,UAAU,CAChBC,YAAY,CAAE,CACVC,IAAI,CAAE,EAAE,CACRC,QAAQ,CAAC,EAAE,CACX;AACAC,SAAS,CAAE,KACf,CAAC,CACDC,QAAQ,CAAC,CACTC,aAAa,CAACA,CAACC,KAAK,CAAAC,IAAA,GAAgB,IAAd,CAACC,OAAO,CAAC,CAAAD,IAAA,CAC/BD,KAAK,CAACJ,QAAQ,CAAGI,KAAK,CAACL,IAAI,CAACQ,MAAM,CAACC,KAAA,MAAC,CAACC,KAAK,CAAC,CAAAD,KAAA,OAAK,CAAAC,KAAK,CAAGH,OAAO,GAAC,CAChE,CACA,CAAC,CACJI,aAAa,CAAGC,OAAO,EAAK,CACzBA,OAAO,CAACC,OAAO,CAAC1B,WAAW,CAAC2B,OAAO,CAAGT,KAAK,EAAK,CAC5CA,KAAK,CAACH,SAAS,CAAG,IAAI,CAC1B,CAAC,CAAC,CACFU,OAAO,CAACC,OAAO,CAAC1B,WAAW,CAAC4B,SAAS,CAAE,CAACV,KAAK,CAAAW,KAAA,GAAgB,IAAd,CAACT,OAAO,CAAC,CAAAS,KAAA,CACpDX,KAAK,CAACL,IAAI,CAAGO,OAAO,CACpBF,KAAK,CAACH,SAAS,CAAG,KAAK,CAC3B,CAAC,CAAC,CACFU,OAAO,CAACC,OAAO,CAAC1B,WAAW,CAAC8B,QAAQ,CAAGZ,KAAK,EAAK,CAC7CA,KAAK,CAACH,SAAS,CAAG,KAAK,CAE3B,CAAC,CAAC,CACL,CACD,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEE,aAAc,CAAC,CAAGP,aAAa,CAACqB,OAAO,CACtD,cAAe,CAAArB,aAAa,CAACsB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}